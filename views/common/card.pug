//- Private mixin for linkless cards so we can use it later for cleaner generated markup
mixin _card-linkless(shape, hover)
    div(class='group bg-gradient-to-bl from-purple-600 to-grey-900 shadow-xl m-4 z-0' + shape)
        if hover
            div(class='transition-opacity opacity-0 group-hover:opacity-100 bg-gradient-to-bl from-orange-500 to-purple-900 via-purple-500 absolute z-10' + shape)
        div(class='p-2 z-20 relative')
            block


mixin card(shape='w-48 h-48 lg:w-64 lg:h-64 rounded-lg', link='', hover=false)
    //- Hack to fix a weird bug in Pug I think - mixins are being derpy
    -shape = attributes.shape || shape
    -hover = attributes.hover || hover
    //- Technically we can skip all this and just leave empty <a> tags around but ew
    case attributes.link
        when ''
            +_card-linkless(shape, hover)
                block
        default
            a(href=attributes.link)
                +_card-linkless(shape, hover)
                    block